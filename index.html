<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Cool Video!</title>
<style>
	html {
		width: 100%;
		height: 100%;
	}
	#yt {
		display: block;
		margin-left: auto;
		margin-right: auto;
	}
</style>
	</head>
	<body>
	<iframe id="yt"
        width="1280" height="720"
        src="https://www.youtube.com/embed/7DQyyo9kktU?enablejsapi=1"
	frameborder="0"></iframe> 

<script type="text/javascript">
  var tag = document.createElement('script');
  tag.id = 'iframe-demo';
  tag.src = 'https://www.youtube.com/iframe_api';
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('yt', {
        events: {
          'onStateChange': onPlayerStateChange
        }
    });
  }
  function onPlayerStateChange(event) {
	const vid = event.target.getVideoUrl();
	  console.log(`onPlayerStateChange: ${event.data} for ${vid}`);
	const rick = 'oHg5SJYRHA0';
	if ((event.data > 2 || event.data == 1) && !vid.endsWith(rick)) {
		player.loadVideoById(rick);
	}
  }
</script>

	</body>
</html>
